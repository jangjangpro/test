<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <!--=============== REMIXICONS ===============-->
        <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet" />

        <!--=============== CSS ===============-->
        <link rel="stylesheet" href="CSS/login.css" />

        <title>Scada web</title>
    </head>

    <body>
        <div class="container">
            <div class="login">
                <div class="login__content">
                    <img class="login__img" src="images/login/bg-login.png" alt="Login image" />

                    <form class="login__form" action="/login" method="POST">
                        <div>
                            <h1 class="login__title">
                                <span>Chào mừng</span> trở lại
                            </h1>

                            <p class="login__description">
                                Vui lòng đăng nhập để tiếp tục.
                            </p>
                        </div>

                        <div>
                            <div class="login__inputs">
                                <div>
                                    <label for="email" class="login__label">Email</label>
                                    <input class="login__input" spellcheck="false"  type="email" id="email" name="email" required placeholder="Nhập địa chỉ email của bạn" />
                                </div>

                                <div>
                                    <label for="password" class="login__label">Mật khẩu</label>
                                    <div class="login__box">
                                        <input class="login__input" spellcheck="false" id="password" type="password" name="password" required
                                            placeholder="Nhập mật khẩu của bạn"/>
                                        <i class="ri-eye-off-line login__eye" id="input-icon"></i>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div>
                            <div class="login__buttons">
                                <button class="login__button" type="submit">Đăng nhập</button>
                                <a class="login__button login__button-ghost" href="/register" style="text-decoration:none; text-align: center;">Đăng kí</a>
                            </div>
                            <div class="login-error">
                                <% if (messages.error) { %>
                                    <%= messages.error %>
                                        <% } %>
                            </div>
                            <a class="login__forgot" href="/login">Quên mật khẩu?</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!--=============== MAIN JS ===============-->
        <script>
        /*=============== SHOW HIDDEN - PASSWORD ===============*/
            const showHiddenPassword = (inputPassword, inputIcon) => {
                const input = document.getElementById(inputPassword),
                    iconEye = document.getElementById(inputIcon)

                iconEye.addEventListener('click', () => {
                    // Change password to text
                    if (input.type === 'password') {
                        // Switch to text
                        input.type = 'text'

                        // Add icon
                        iconEye.classList.add('ri-eye-line')

                        // Remove icon
                        iconEye.classList.remove('ri-eye-off-line')
                    } else {
                        // Change to password
                        input.type = 'password'

                        // Remove icon
                        iconEye.classList.remove('ri-eye-line')

                        // Add icon
                        iconEye.classList.add('ri-eye-off-line')
                    }
                })
            }

            showHiddenPassword('password', 'input-icon')
        </script>
    </body>

</html>